<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="planPath"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ui5-dynamic-page id="page" show-footer>
    <ui5-dynamic-page-title slot="titleArea">
      <ui5-title wrapping-type="None" slot="heading">
        {{ (plan | async)?.Name }}
      </ui5-title>
      <ui5-toolbar id="actionsToolbar" slot="actionsBar" design="Transparent">
        <ui5-toolbar-button id="edit-button" design="Transparent" icon="ai" (click)="submitHint()"></ui5-toolbar-button>
      </ui5-toolbar>
    </ui5-dynamic-page-title>

    <ui5-dynamic-page-header slot="headerArea">
      <div class="product-info">
        <div class="product-info-cell">
          <ui5-label>Description</ui5-label>
          <ui5-text class="product-description">
            {{ (plan | async)?.Description }}
          </ui5-text>
        </div>
      </div>
    </ui5-dynamic-page-header>

    <ui5-wizard id="wiz">
      <ui5-wizard-step class="plan-location" *ngFor="let location of (plan | async)?.Locations; let i = index">
        <div style="display: flex; min-height: 200px; flex-direction: column;">
          <ui5-title>{{location.Number}}.{{location.Name}}</ui5-title>
          <br />
          <ui5-label>
            {{ location.FormattedAddress  }}
          </ui5-label>
          <p>
            {{ location.SuggestReason  }}
          </p>
          <ion-item lines="none" *ngIf="location.toggleStatus">
            <ui5-input class="custom" placeholder="Give a hint" [(ngModel)]="location.Hint" (ngModelChange)="modelChanged(location,i)"></ui5-input>
          </ion-item>

          <ui5-toggle-button class="hint" icon="user-edit" (click)="location.toggleStatus=!location.toggleStatus"></ui5-toggle-button>
        </div>
      </ui5-wizard-step>
    </ui5-wizard>
  </ui5-dynamic-page>

  <style>
    .wrapper {
        height: 800px;
    }
    .content-padding > * {
        padding: 0.5rem;
    }

    .product-info {
        display: flex;
        flex-wrap: wrap;
    }

    .product-info [ui5-avatar],
    .product-info .product-info-cell {
        margin-right: 2rem;
        margin-bottom: 1rem;
    }

    .product-info-cell {
        display: flex;
        gap: 5px;
        flex-direction: column;
    }

    .product-description {
        display: inline;
        max-width: 300px;
    }

    .snapped-title-heading {
        display: flex;
        align-items: center;
    }
    .snapped-title-heading [ui5-avatar] {
        margin-right: 1rem;
    }
    .snapped-title-heading [ui5-title] {
        font-family: var(--sapObjectHeader_Title_FontFamily);
        color: var(--sapObjectHeader_Title_TextColor);
        padding: 0.3125rem 0 0 0;
        font-size: var(--sapObjectHeader_Title_SnappedFontSize);
        text-overflow: ellipsis;
        min-width: 0;
    }
  </style>
</ion-content>